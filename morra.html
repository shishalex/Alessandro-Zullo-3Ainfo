<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styleBello.css">
    <title>Morra</title>
</head>
<body>
    <div class="container">
        <h1>MORRA 3a-BoT</h1>
        <p id="out1">Scegli la tua mossa: </p>
        <button onclick="main('sasso')">Sasso</button>
        <button onclick="main('carta')">Carta</button>
        <button onclick="main('forbice')">Forbice</button>
        <p id="contoAllaRovescia"></p>
        <p id="out2"></p>
    </div>

    <script>
        let numeroCasuale = 0;

function main(mossaUtente) {
    let secondiRimanenti = 3;
    document.getElementById("contoAllaRovescia").innerHTML = "";
    document.getElementById("out2").innerHTML = "";

    let interval = setInterval(() => {
        document.getElementById("contoAllaRovescia").innerHTML = secondiRimanenti;
        secondiRimanenti--;

        if (secondiRimanenti < 0) {
            clearInterval(interval);
            TiroMorraBot(mossaUtente);
        }
    }, 1000);
}

function TiroMorraBot(mossaUtente) {
    numeroCasuale = Math.floor(Math.random() * 3);
    let morraArray = ["sasso", "carta", "forbice"];
    let mossaBot = morraArray[numeroCasuale];

    document.getElementById("contoAllaRovescia").innerHTML = 
        `Il bot ha scelto: ${mossaBot}`;
    

    let risultato = "";
    if (mossaUtente === mossaBot) {
        risultato = "Pareggio!";
    } else if (
        (mossaUtente === "sasso" && mossaBot === "forbice") ||
        (mossaUtente === "carta" && mossaBot === "sasso") ||
        (mossaUtente === "forbice" && mossaBot === "carta")
    ) {
        risultato = "Hai vinto!";
    } else {
        risultato = "Hai perso!";
    }

    document.getElementById("out2").innerHTML = risultato;
}
    </script>
</body>
</html>
